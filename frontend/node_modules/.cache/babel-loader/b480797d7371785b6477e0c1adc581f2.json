{"ast":null,"code":"var _jsxFileName = \"/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js\";\nimport React, { useEffect, useState } from 'react';\nimport * as seatApi from '../api/bus-seat';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst SeatLayout = props => {\n  const dispatch = useDispatch();\n  const [busNumber, setBusNumber] = useState(props.busNumber);\n  const [fare, setFare] = useState();\n  const reservedSeats = useSelector(state => state.seats.reservedSeats);\n  const selectedSeats = useSelector(state => state.seats.selectedSeats) || [];\n\n  const handleEvent = (e, seatNumber) => {\n    if (!reservedSeats.includes(seatNumber)) dispatch({\n      type: 'SELECT_SEATS',\n      seatNumber\n    });\n  };\n\n  let seats = [];\n\n  for (let i = 1; i <= 20; i++) {\n    seats.push(i);\n  }\n\n  props.fare(fare);\n  useEffect(() => {\n    seatApi.getResevedSeats(busNumber).then(response => response.data).then(data => {\n      let reservedSeats = data.result.reservation.reservedSeats;\n      setFare(data.result.service.fare);\n      dispatch({\n        type: 'LOAD_RESERVED_SEATS',\n        reservedSeats\n      });\n    });\n  }, []);\n\n  const changeBgColor = item => {\n    if (reservedSeats.includes(item)) return 'red';\n    if (selectedSeats.includes(item)) return 'green';else return 'grey';\n  };\n\n  const renderSeats = () => {\n    return seats.map(item => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        scope: \"col\",\n        style: {\n          margin: '4px',\n          fontSize: '15px',\n          cursor: 'pointer',\n          backgroundColor: changeBgColor(item)\n        },\n        onClick: e => handleEvent(e, item),\n        className: \"badge\",\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, item);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      width: '200px',\n      height: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, renderSeats());\n};\n\nexport default SeatLayout;","map":{"version":3,"sources":["/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js"],"names":["React","useEffect","useState","seatApi","useSelector","useDispatch","SeatLayout","props","dispatch","busNumber","setBusNumber","fare","setFare","reservedSeats","state","seats","selectedSeats","handleEvent","e","seatNumber","includes","type","i","push","getResevedSeats","then","response","data","result","reservation","service","changeBgColor","item","renderSeats","map","margin","fontSize","cursor","backgroundColor","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport * as seatApi from '../api/bus-seat'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst SeatLayout = (props) => {\n\n\n    const dispatch = useDispatch()\n    const [busNumber, setBusNumber] = useState(props.busNumber)\n    const [fare,setFare] = useState()\n\n    const reservedSeats = useSelector(state => state.seats.reservedSeats)\n    const selectedSeats = useSelector(state => state.seats.selectedSeats) || []\n\n    const handleEvent = (e, seatNumber) => {\n        if (!reservedSeats.includes(seatNumber))\n            dispatch({ type: 'SELECT_SEATS', seatNumber })\n    }\n    let seats = []\n    for (let i = 1; i <= 20; i++) {\n        seats.push(i);\n\n    }\n    props.fare(fare)\n\n\n    useEffect(() => {\n        seatApi.getResevedSeats(busNumber)\n            .then(response => response.data)\n            .then(data => {\n                let reservedSeats = data.result.reservation.reservedSeats\n                setFare(data.result.service.fare)\n                dispatch({ type: 'LOAD_RESERVED_SEATS', reservedSeats })\n            })\n\n    }, [])\n\n    const changeBgColor = (item) => {\n        if (reservedSeats.includes(item))\n            return 'red'\n        if (selectedSeats.includes(item))\n            return 'green'\n        else\n            return 'grey'\n    }\n\n    const renderSeats = () => {\n        return seats.map(item => {\n            return (\n\n                <span scope=\"col\" style={{\n                    margin: '4px', fontSize: '15px',\n                    cursor: 'pointer',\n                    backgroundColor: changeBgColor(item)\n                }}\n                    onClick={e => handleEvent(e, item)}\n                    className=\"badge\" key={item} >\n                    {item}\n                </span>\n            )\n        })\n    }\n    return (\n        <div className=\"\" style={{ width: '200px', height: '400px' }}>\n            {renderSeats()}\n        </div>\n    );\n}\n\nexport default SeatLayout;\n"]},"metadata":{},"sourceType":"module"}