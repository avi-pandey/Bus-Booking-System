{"ast":null,"code":"var _jsxFileName = \"/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SearchBus.js\";\nimport React, { useState, useEffect } from 'react';\nimport * as busApi from '../api/bus-search';\nimport { Link } from 'react-router-dom';\nimport SeatLayout from './SeatLayout';\nimport SeatReservation from './SeatReservation';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Payment from './Payment';\n\nconst SearchBus = () => {\n  const [searchResult, setSearchReasult] = useState([]);\n  const [travelPlan, setTravelPlan] = useState({});\n  const [tab, setTab] = useState(1);\n  const [busNum, setBusNumber] = useState({});\n  const [fare, setFare] = useState(0);\n\n  const handleSubmitEvent = e => {\n    e.preventDefault();\n    busApi.busSearch(travelPlan).then(response => response.data).then(data => {\n      setSearchReasult(data.result);\n    });\n  };\n\n  setFare(searchResultl.service.fare);\n\n  const handleChange = (date, field) => {\n    let fieldValue = date;\n    setTravelPlan({ ...travelPlan,\n      [field]: fieldValue\n    });\n  };\n\n  const changeTab = tab => {\n    setTab(tab);\n    console.log(tab);\n  };\n\n  const viwSeats = (e, busNumber, tab) => {\n    e.preventDefault();\n    setTab(tab);\n    setBusNumber(busNumber);\n    renderTabPanel(tab);\n  };\n\n  const renderTabPanel = tab => {\n    switch (tab) {\n      case 1:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card card-body card-op tab-pane fade show active \",\n          id: \"home\",\n          role: \"tabpanel\",\n          \"aria-labelledby\": \"home-tab\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          className: \"form-inline\",\n          onSubmit: e => handleSubmitEvent(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group mr-5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"sr-only\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 41\n          }\n        }, \"From\"), /*#__PURE__*/React.createElement(\"datalist\", {\n          id: \"cities\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 45\n          }\n        }, \"BARABANKI\"), /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 45\n          }\n        }, \"LUCKNOW\"), /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 45\n          }\n        }, \"KOLKATA\"), /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 45\n          }\n        }, \"KANPUR\"), /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 45\n          }\n        }, \"BENGALORE\"), /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 45\n          }\n        }, \"CHENNAI\")), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          list: \"cities\",\n          onChange: e => handleChangeEvent(e, 'from'),\n          className: \"form-control \",\n          placeholder: \"From\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group mr-5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"sr-only\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 41\n          }\n        }, \"To\"), /*#__PURE__*/React.createElement(\"datalist\", {\n          id: \"cities\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          list: \"cities\",\n          onChange: e => handleChangeEvent(e, 'to'),\n          className: \"form-control\",\n          placeholder: \"To\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"sr-only\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 41\n          }\n        }, \"Travel Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n          type: \"text\",\n          name: \"trvDate\",\n          selected: travelPlan.trvDate,\n          onChange: date => handleChange(date, 'trvDate'),\n          className: \"form-control\",\n          placeholder: \"Travel Date\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"ml-5 btn btn-primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 37\n          }\n        }, \"search\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-op mt-5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }\n        }, renderItems(searchResult))));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(SeatLayout, {\n          busNumber: busNum,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-6 \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(SeatReservation, {\n          tab: val => changeTab(val),\n          busNum: busNum,\n          fare: val => getFare(val),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }\n        })));\n\n      case 3:\n        return /*#__PURE__*/React.createElement(Payment, {\n          tab: val => changeTab(val),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }\n        });\n\n      case 4:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }\n        }, \"Hello\"));\n\n      default:\n        return null;\n    }\n  };\n\n  const renderItems = searchResult => {\n    return searchResult.map(result => {\n      return /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table table-bordered table-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }, \"Bus Type\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 29\n        }\n      }, \"Departure\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      }, \"Arrival\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }, \"Travel Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 29\n        }\n      }, \"Total Seats\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }\n      }, \"Fare\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }, \"View Seats\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }\n      }, result.busType), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }, result.service.dep), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }\n      }, result.service.arr), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 29\n        }\n      }, result.service.trvDate), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }, result.totalSeats), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 29\n        }\n      }, result.service.fare), /*#__PURE__*/React.createElement(\"td\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => viwSeats(e, result.busNumber, 2),\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 45\n        }\n      }, \"View Seats\")))));\n    });\n  };\n\n  const handleChangeEvent = (e, field) => {\n    const fieldValue = e.target.value;\n    setTravelPlan({ ...travelPlan,\n      [field]: fieldValue\n    });\n    console.log(travelPlan);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav nav-tabs row col-9 offset-md-3 \",\n    id: \"myTab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item margin-top-6em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: tab === 1 ? \"nav-link active\" : 'text-dark bg-secondary nav-link',\n    id: \"home-tab\",\n    \"data-toggle\": \"tab\",\n    to: \"/search/bus\",\n    role: \"tab\",\n    \"aria-controls\": \"home\",\n    \"aria-selected\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, \"Plan Your Trip\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item margin-top-6em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: tab === 2 ? \"nav-link active\" : 'text-dark bg-secondary nav-link',\n    id: \"profile-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#seat/layout\",\n    role: \"tab\",\n    \"aria-controls\": \"profile\",\n    \"aria-selected\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, \"Select Your Seats\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item margin-top-6em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: tab === 3 ? \"nav-link active\" : 'text-dark bg-secondary nav-link',\n    id: \"contact-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#\",\n    role: \"tab\",\n    \"aria-controls\": \"contact\",\n    \"aria-selected\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, \"Payments\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item margin-top-6em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: tab === 4 ? \"nav-link active\" : 'text-dark bg-secondary nav-link',\n    id: \"confirmation-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#\",\n    role: \"tab\",\n    \"aria-controls\": \"confirmation\",\n    \"aria-selected\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, \"Ticket Confirmation\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-content mt-5 container\",\n    id: \"myTabContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, renderTabPanel(tab)));\n};\n\nexport default SearchBus;","map":{"version":3,"sources":["/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SearchBus.js"],"names":["React","useState","useEffect","busApi","Link","SeatLayout","SeatReservation","DatePicker","Payment","SearchBus","searchResult","setSearchReasult","travelPlan","setTravelPlan","tab","setTab","busNum","setBusNumber","fare","setFare","handleSubmitEvent","e","preventDefault","busSearch","then","response","data","result","searchResultl","service","handleChange","date","field","fieldValue","changeTab","console","log","viwSeats","busNumber","renderTabPanel","handleChangeEvent","trvDate","renderItems","val","getFare","map","busType","dep","arr","totalSeats","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport * as busApi from '../api/bus-search'\nimport { Link } from 'react-router-dom'\nimport SeatLayout from './SeatLayout'\nimport SeatReservation from './SeatReservation'\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\"\n\nimport Payment from './Payment'\nconst SearchBus = () => {\n\n    const [searchResult, setSearchReasult] = useState([])\n    const [travelPlan, setTravelPlan] = useState({})\n    const [tab, setTab] = useState(1)\n    const [busNum, setBusNumber] = useState({})\n    const [fare, setFare] = useState(0)\n\n\n\n\n    const handleSubmitEvent = e => {\n        e.preventDefault()\n        busApi.busSearch(travelPlan)\n            .then(response => response.data)\n            .then(data => {\n                setSearchReasult(data.result)\n            })\n    }\n    setFare(searchResultl.service.fare)\n    const handleChange = (date, field) => {\n        let fieldValue = date\n        setTravelPlan({ ...travelPlan, [field]: fieldValue })\n    }\n\n\n    const changeTab = (tab) => {\n        setTab(tab)\n        console.log(tab)\n    }\n\n\n    const viwSeats = (e, busNumber, tab) => {\n        e.preventDefault()\n        setTab(tab)\n        setBusNumber(busNumber)\n\n        renderTabPanel(tab)\n\n\n    }\n\n    const renderTabPanel = (tab) => {\n        switch (tab) {\n            case 1: return (\n                <div>\n                    <div>\n                        <div className=\"card card-body card-op tab-pane fade show active \" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                            <div>\n                                <form className=\"form-inline\" onSubmit={e => handleSubmitEvent(e)}>\n                                    <div className=\"form-group mr-5\">\n                                        <label className=\"sr-only\">From</label>\n                                        <datalist id=\"cities\">\n                                            <option>BARABANKI</option>\n                                            <option>LUCKNOW</option>\n                                            <option>KOLKATA</option>\n                                            <option>KANPUR</option>\n                                            <option>BENGALORE</option>\n                                            <option>CHENNAI</option>\n                                        </datalist>\n                                        <input type=\"text\"\n                                            list=\"cities\"\n                                            onChange={e => handleChangeEvent(e, 'from')}\n                                            className=\"form-control \" placeholder=\"From\" />\n                                    </div>\n                                    <div className=\"form-group mr-5\">\n                                        <label className=\"sr-only\">To</label>\n                                        <datalist id=\"cities\">\n                                        </datalist>\n                                        <input type=\"text\"\n                                            list=\"cities\"\n                                            onChange={e => handleChangeEvent(e, 'to')}\n                                            className=\"form-control\" placeholder=\"To\" />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label className=\"sr-only\">Travel Date</label>\n                                        <DatePicker type=\"text\"\n                                            name=\"trvDate\"\n                                            selected={travelPlan.trvDate}\n                                            onChange={date => handleChange(date, 'trvDate')}\n                                            className=\"form-control\" placeholder=\"Travel Date\" />\n                                    </div>\n                                    <button className=\"ml-5 btn btn-primary\">search</button>\n                                </form>\n                            </div>\n                        </div>\n                        <div className=\"card-op mt-5\">{renderItems(searchResult)}</div>\n                    </div>\n\n                </div>\n            )\n            case 2: return (\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <SeatLayout busNumber={busNum} />\n\n                    </div>\n                    <div className=\"col-6 \">\n                        <SeatReservation tab={val => changeTab(val)} busNum={busNum} fare={val => getFare(val)} />\n                    </div>\n                </div>\n            )\n\n            case 3: return (\n                <Payment tab={val => changeTab(val)} />\n            )\n\n            case 4: return (\n                <div>\n                    <h1>Hello</h1>\n                </div>\n            )\n            default: return null\n\n\n        }\n    }\n\n    const renderItems = (searchResult) => {\n        return searchResult.map((result => {\n            return (\n                <table class=\"table table-bordered table-dark\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Bus Type</th>\n                            <th scope=\"col\">Departure</th>\n                            <th scope=\"col\">Arrival</th>\n                            <th scope=\"col\">Travel Date</th>\n                            <th scope=\"col\">Total Seats</th>\n                            <th scope=\"col\">Fare</th>\n                            <th scope=\"col\">View Seats</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td scope=\"col\">{result.busType}</td>\n                            <td scope=\"col\">{result.service.dep}</td>\n                            <td scope=\"col\">{result.service.arr}</td>\n                            <td scope=\"col\">{result.service.trvDate}</td>\n                            <td scope=\"col\">{result.totalSeats}</td>\n                            <td scope=\"col\">{result.service.fare}</td>\n                            <td scope=\"col\"><button type=\"button\" onClick={e => viwSeats(e, result.busNumber, 2)} className=\"btn btn-primary\">View Seats</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            )\n\n        }))\n\n    }\n\n\n    const handleChangeEvent = (e, field) => {\n        const fieldValue = e.target.value\n        setTravelPlan({ ...travelPlan, [field]: fieldValue })\n        console.log(travelPlan)\n    }\n    return (\n        <div>\n            <ul className=\"nav nav-tabs row col-9 offset-md-3 \" id=\"myTab\" >\n                <li className=\"nav-item margin-top-6em\">\n                    <Link className={tab === 1 ? \"nav-link active\" : 'text-dark bg-secondary nav-link'} id=\"home-tab\" data-toggle=\"tab\" to=\"/search/bus\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Plan Your Trip</Link>\n                </li>\n                <li className=\"nav-item margin-top-6em\">\n                    <a className={tab === 2 ? \"nav-link active\" : 'text-dark bg-secondary nav-link'} id=\"profile-tab\" data-toggle=\"tab\" href=\"#seat/layout\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Select Your Seats</a>\n                </li>\n                <li className=\"nav-item margin-top-6em\">\n                    <a className={tab === 3 ? \"nav-link active\" : 'text-dark bg-secondary nav-link'} id=\"contact-tab\" data-toggle=\"tab\" href=\"#\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\">Payments</a>\n                </li>\n                <li className=\"nav-item margin-top-6em\">\n                    <a className={tab === 4 ? \"nav-link active\" : 'text-dark bg-secondary nav-link'} id=\"confirmation-tab\" data-toggle=\"tab\" href=\"#\" role=\"tab\" aria-controls=\"confirmation\" aria-selected=\"false\">Ticket Confirmation</a>\n                </li>\n            </ul>\n\n            <div className=\"tab-content mt-5 container\" id=\"myTabContent\">\n                {renderTabPanel(tab)}\n            </div>\n        </div>\n\n    )\n}\n\n\nexport default SearchBus;"]},"metadata":{},"sourceType":"module"}