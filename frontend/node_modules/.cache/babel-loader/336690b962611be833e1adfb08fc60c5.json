{"ast":null,"code":"var _jsxFileName = \"/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js\";\nimport React, { useEffect } from 'react';\nimport * as seatApi from '../api/bus-seat';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst SeatLayout = props => {\n  const dispatch = useDispatch();\n  const reservedSeats = useSelector(state => state.seats.reservedSeats) || [];\n  const selectedSeats = useSelector(state => state.seats.selectedSeats) || [];\n\n  const handleEvent = (e, seatNumber) => {\n    if (!reservedSeats.includes(seatNumber)) dispatch({\n      type: 'SELECT_SEATS',\n      seatNumber\n    });\n  };\n\n  useEffect(() => {\n    seatApi.getResevedSeats(props.busNumber).then(response => response.data).then(data => {\n      let reservedSeats = data.result.reservation.reservedSeats;\n      dispatch({\n        type: 'LOAD_RESERVED_SEATS',\n        reservedSeats\n      });\n    });\n  }, []);\n\n  const changeBgColor = item => {\n    if (reservedSeats.includes(item)) return 'red';\n    if (selectedSeats.includes(item)) return 'green';else return 'grey';\n  };\n\n  const renderSeats = () => {\n    return [1, 2, 3, 4, 5, 6, 7, 8].map(item => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          margin: '12px',\n          fontSize: '15px',\n          cursor: 'pointer',\n          backgroundColor: changeBgColor(item)\n        },\n        onClick: e => handleEvent(e, item),\n        className: \"badge\",\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, item);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      width: '200px',\n      height: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, renderSeats());\n};\n\nexport default SeatLayout;","map":{"version":3,"sources":["/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js"],"names":["React","useEffect","seatApi","useSelector","useDispatch","SeatLayout","props","dispatch","reservedSeats","state","seats","selectedSeats","handleEvent","e","seatNumber","includes","type","getResevedSeats","busNumber","then","response","data","result","reservation","changeBgColor","item","renderSeats","map","margin","fontSize","cursor","backgroundColor","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,OAAZ,MAAyB,iBAAzB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAE1B,QAAMC,QAAQ,GAAGH,WAAW,EAA5B;AACA,QAAMI,aAAa,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYF,aAAtB,CAAX,IAAmD,EAAzE;AACA,QAAMG,aAAa,GAAGR,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,aAAtB,CAAX,IAAmD,EAAzE;;AAEA,QAAMC,WAAW,GAAG,CAACC,CAAD,EAAIC,UAAJ,KAAmB;AACnC,QAAI,CAACN,aAAa,CAACO,QAAd,CAAuBD,UAAvB,CAAL,EACIP,QAAQ,CAAC;AAAES,MAAAA,IAAI,EAAE,cAAR;AAAwBF,MAAAA;AAAxB,KAAD,CAAR;AACP,GAHD;;AAKAb,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,OAAO,CAACe,eAAR,CAAwBX,KAAK,CAACY,SAA9B,EACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAD/B,EAEKF,IAFL,CAEUE,IAAI,IAAI;AACV,UAAIb,aAAa,GAAGa,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwBf,aAA5C;AACAD,MAAAA,QAAQ,CAAC;AAAES,QAAAA,IAAI,EAAE,qBAAR;AAA+BR,QAAAA;AAA/B,OAAD,CAAR;AACH,KALL;AAOH,GARQ,EAQN,EARM,CAAT;;AASA,QAAMgB,aAAa,GAAIC,IAAD,IAAU;AAC5B,QAAIjB,aAAa,CAACO,QAAd,CAAuBU,IAAvB,CAAJ,EACI,OAAO,KAAP;AACJ,QAAId,aAAa,CAACI,QAAd,CAAuBU,IAAvB,CAAJ,EACI,OAAO,OAAP,CADJ,KAGI,OAAO,MAAP;AACP,GAPD;;AASA,QAAMC,WAAW,GAAG,MAAM;AACtB,WAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyBC,GAAzB,CAA6BF,IAAI,IAAI;AACxC,0BACI;AAAM,QAAA,KAAK,EAAE;AACTG,UAAAA,MAAM,EAAE,MADC;AACOC,UAAAA,QAAQ,EAAE,MADjB;AAETC,UAAAA,MAAM,EAAE,SAFC;AAGTC,UAAAA,eAAe,EAAEP,aAAa,CAACC,IAAD;AAHrB,SAAb;AAKI,QAAA,OAAO,EAAEZ,CAAC,IAAID,WAAW,CAACC,CAAD,EAAIY,IAAJ,CAL7B;AAMI,QAAA,SAAS,EAAC,OANd;AAMsB,QAAA,GAAG,EAAEA,IAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOKA,IAPL,CADJ;AAWH,KAZM,CAAP;AAaH,GAdD;;AAeA,sBACI;AAAK,IAAA,SAAS,EAAC,EAAf;AAAkB,IAAA,KAAK,EAAE;AAAEO,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,WAAW,EADhB,CADJ;AAKH,CAjDD;;AAmDA,eAAerB,UAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport * as seatApi from '../api/bus-seat'\nimport {useSelector, useDispatch} from 'react-redux'\n\nconst SeatLayout = (props) => {\n\n    const dispatch = useDispatch()\n    const reservedSeats = useSelector(state => state.seats.reservedSeats) || []\n    const selectedSeats = useSelector(state => state.seats.selectedSeats) || []\n\n    const handleEvent = (e, seatNumber) => {\n        if (!reservedSeats.includes(seatNumber))\n            dispatch({ type: 'SELECT_SEATS', seatNumber })\n    }\n\n    useEffect(() => {\n        seatApi.getResevedSeats(props.busNumber)\n            .then(response => response.data)\n            .then(data => {\n                let reservedSeats = data.result.reservation.reservedSeats\n                dispatch({ type: 'LOAD_RESERVED_SEATS', reservedSeats })\n            })\n\n    }, [])\n    const changeBgColor = (item) => {\n        if (reservedSeats.includes(item))\n            return 'red'\n        if (selectedSeats.includes(item))\n            return 'green'\n        else\n            return 'grey'\n    }\n\n    const renderSeats = () => {\n        return [1, 2, 3, 4, 5, 6, 7, 8].map(item => {\n            return (\n                <span style={{\n                    margin: '12px', fontSize: '15px',\n                    cursor: 'pointer',\n                    backgroundColor: changeBgColor(item)\n                }}\n                    onClick={e => handleEvent(e, item)}\n                    className=\"badge\" key={item}>\n                    {item}\n                </span>\n            )\n        })\n    }\n    return (\n        <div className=\"\" style={{ width: '200px', height: '400px' }}>\n            {renderSeats()}\n        </div>\n    );\n}\n\nexport default SeatLayout;\n"]},"metadata":{},"sourceType":"module"}