{"ast":null,"code":"var _jsxFileName = \"/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js\";\nimport React, { useEffect, useState } from 'react';\nimport * as seatApi from '../api/bus-seat';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst SeatLayout = props => {\n  const dispatch = useDispatch();\n  const [busNumber, setBusNumber] = useState(props.busNumber);\n  const reservedSeats = useSelector(state => state.seats.reservedSeats);\n  const selectedSeats = useSelector(state => state.seats.selectedSeats) || [];\n\n  const handleEvent = (e, seatNumber) => {\n    if (!reservedSeats.includes(seatNumber)) dispatch({\n      type: 'SELECT_SEATS',\n      seatNumber\n    });\n  };\n\n  let seats = [];\n\n  for (let i = 0; i < 40; i++) {\n    seats.push(i);\n  }\n\n  useEffect(() => {\n    seatApi.getResevedSeats(busNumber).then(response => response.data).then(data => {\n      let reservedSeats = data.result.reservation.reservedSeats;\n      dispatch({\n        type: 'LOAD_RESERVED_SEATS',\n        reservedSeats\n      });\n    });\n  }, []);\n  console.log(busNumber, \"bus\");\n\n  const changeBgColor = item => {\n    if (reservedSeats.includes(item)) return 'red';\n    if (selectedSeats.includes(item)) return 'green';else return 'grey';\n  };\n\n  const renderSeats = () => {\n    return seats.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"table-responsive-md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          margin: '3px',\n          fontSize: '15px',\n          cursor: 'pointer',\n          backgroundColor: changeBgColor(item)\n        },\n        onClick: e => handleEvent(e, item),\n        className: \"badge\",\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 33\n        }\n      }, item)))));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      width: '200px',\n      height: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, renderSeats());\n};\n\nexport default SeatLayout;","map":{"version":3,"sources":["/home/avinash/Html-CSS-Practice/assignment-stage-2-856994/mfrp-cts/FE/bus-ticket-booking/src/component/SeatLayout.js"],"names":["React","useEffect","useState","seatApi","useSelector","useDispatch","SeatLayout","props","dispatch","busNumber","setBusNumber","reservedSeats","state","seats","selectedSeats","handleEvent","e","seatNumber","includes","type","i","push","getResevedSeats","then","response","data","result","reservation","console","log","changeBgColor","item","renderSeats","map","margin","fontSize","cursor","backgroundColor","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport * as seatApi from '../api/bus-seat'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst SeatLayout = (props) => {\n\n\n    const dispatch = useDispatch()\n    const [busNumber, setBusNumber] = useState(props.busNumber)\n\n    const reservedSeats = useSelector(state => state.seats.reservedSeats)\n    const selectedSeats = useSelector(state => state.seats.selectedSeats) || []\n\n    const handleEvent = (e, seatNumber) => {\n        if (!reservedSeats.includes(seatNumber))\n            dispatch({ type: 'SELECT_SEATS', seatNumber })\n    }\n    let seats = []\n    for (let i = 0; i < 40; i++) {\n        seats.push(i);\n\n    }\n\n    useEffect(() => {\n        seatApi.getResevedSeats(busNumber)\n            .then(response => response.data)\n            .then(data => {\n                let reservedSeats = data.result.reservation.reservedSeats\n                dispatch({ type: 'LOAD_RESERVED_SEATS', reservedSeats })\n            })\n\n    }, [])\n    console.log(busNumber, \"bus\")\n\n    const changeBgColor = (item) => {\n        if (reservedSeats.includes(item))\n            return 'red'\n        if (selectedSeats.includes(item))\n            return 'green'\n        else\n            return 'grey'\n    }\n\n    const renderSeats = () => {\n        return seats.map(item => {\n            return (\n\n                <div class=\"table-responsive-md\">\n                    <table class=\"table\">\n                        <tbody>\n                            <td><span style={{\n                                margin: '3px', fontSize: '15px',\n                                cursor: 'pointer',\n                                backgroundColor: changeBgColor(item)\n                            }}\n                                onClick={e => handleEvent(e, item)}\n                                className=\"badge\" key={item}>\n                                {item}\n                            </span></td>\n                        </tbody>\n                    </table>\n                </div>\n\n\n\n            )\n        })\n    }\n    return (\n        <div className=\"\" style={{ width: '200px', height: '400px' }}>\n            {renderSeats()}\n        </div>\n    );\n}\n\nexport default SeatLayout;\n"]},"metadata":{},"sourceType":"module"}